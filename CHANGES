				CHANGES
				=======

version 7.2.5 (Jan 27, 2003):
	- fixed many documentation bugs - reported by Dave Stuit
	  <djs@tellme.com>
	- added -I option to client which operates like -i, but on the
	  primary conserver only - suggested by Dave Stuit
	  <djs@tellme.com>
	- added SIGUSR2, which does not reread the configuration file,
	  but does everything else SIGHUP does - suggested at LISA 2002
	- fixed bug where LOGDIR setting gets used even if no logfile
	  is wanted
	- added -R option to server to prevent client redirection to
	  other conserver hosts - suggested by Todd Stansell
	  <todd@stansell.org>

version 7.2.4 (Oct 14, 2002):
	- added --with-openssl for some client/server encryption
	- added -E option to client and server to allow for non-encrypted
	  connections (encryption is the default if compiled in)
	- added -c option so credentials (certificate and key) can be
	  exchanged between client and server
	- expanded -V output to show what optional bits actually got
	  compiled into the code (libwrap, regex, etc)
	- compilation errors on non-shadow file systems without using
	  --with-pam - reported by Jesper Frank Nemholt <jfn@dassic.com>
	- client now prefers $LOGNAME, then $USER, then the current uid
	  for its -l default - suggested by Dave Stuit <djs@tellme.com>
	- putting back socklen_t usage - it's the right thing to do,
	  so tell me where it breaks things
	- configure options --with-cffile and --with-pwdfile now
	  recognize fully-qualified pathnames - suggested by Kjell
	  Andresen <kjell.andresen@usit.uio.no>

version 7.2.3 (Sep 23, 2002):
	- checking for duplicate console names got lost in the major
	  7.2.0 rewrite of that code.  it's back now, with a couple of
	  other edge-case fixes i noticed while scanning the code -
	  reported by Dave Stuit <djs@tellme.com>
	- added --with-pam and PAM authentication support - suggested
	  by Stu May <jsmay@wasteofbits.com>
	- added -F server option to prevent automatic reinitialization
	  of failed consoles ('|' syntax consoles which exit with a
	  zero status are still reinitialized) - requested by William P
	  LePera <lepera@us.ibm.com> and Malcolm Gibbs
	  <Malcolm.Gibbs005@msd.govt.nz>
	- successful automatic reinitialization of consoles now attaches
	  a client that wants read-write mode
	- added read-only client wish to become read-write in -i output
	- moved to autoconf-2.54 and fixed some small configure.in bugs
    Many thanks to John R. Jackson <jrj@purdue.edu> for the following
    fixes, cleanups, and enhancements...
	- "lost timestamps" bug (SIGALRM/sleep()/usleep()/tcp_wrapper
	  interaction)
	- compiler warnings, bad fileOpenFD tests, and ability to use
	  a colon after an equal in the config file (LOGDIR=C:\Logs)
	- autologin fix for Solaris BSM support

version 7.2.2 (Jun 05, 2002):
	- added 'n' as token for no-parity - patch by Greg A. Woods
	  <woods@weird.com>
	- extra timestamps occur when consoles come back up after being
	  down longer than their timestamp period - reported by Dave
	  Stuit <djs@gnac.com>
	- AIX 5.1 pseudo-terminal support broken - patch by William P
	  LePera <lepera@us.ibm.com>
	- PID file overwritten and not unlinked on exit - reported by
	  William P LePera <lepera@us.ibm.com>
	- signals cleaned up in master, child, and sub-proc sections
	- SIGPIPE now ignored - reported by Greg A. Woods
	  <woods@weird.com>

version 7.2.1 (Mar 25, 2002):
	- bug regarding timestamp/break reading - patch by Benn Oshrin
	  <benno@columbia.edu>
	- console names in conserver.passwd can be regular expressions
	  if enabled using --with-regex - based on code from Vladislav
	  Patenko <vp@goldentele.com>
	- breaks recorded to console logs if 'b' option used in
	  timestamp-spec - suggested by Dave Stuit <djs@gnac.com>

version 7.2.0 (Mar 12, 2002):
	- check for valid baud rates (invalid resulted in '0') -
	  reported by Andrew Gallatin <gallatin@cs.duke.edu>
	- a broadcast messages to others on your console can now be
	  sent via ^Ecb

version 7.2.0-beta3 (Feb 25, 2002):
	- allow for 57600 and 115200 baud rates - patch by Andreas
	  Wrede <andreas@planix.com>
	- TCP traffic now escaped according to Telnet protocol
	- the highly desired dynamic reconfiguration of conserver is
	  here!  the HUP signal now triggers a read of the
	  configuration file and adjustment of consoles
	- configure flags shown in -V output

version 7.2.0-beta2 (Feb 14, 2002):
	- new -W client option for showing who's attached to a single
	  conserver master - suggested by Dave Stuit <djs@gnac.com>
	- maxfiles() clashes with HP-UX 11 'maxfiles' variable - patch
	  by Adam Morris <AMorris@providence.org>
	- removed use of socklen_t type for better compatibility
	- removed TELCMD/TELOPT use for compatibility

version 7.2.0-beta1 (Jan 29, 2002):
	- static structures and strings are now dynamic in server
	- MAXGRP (--with-maxgrp) has been removed as it's now dynamic
	- new -m server option for setting the maximum consoles per
	  process - the default is still set with --with-maxmemb
	- new -i client option (and ^Eci) that displays console
	  information in a machine-parseable format
	- two debug levels (second level by using two -D options)
	- ANSI prototypes and definitions (when available)

version 7.1.4 (Jan 21, 2002):
	- console -[PqQ] didn't work - patch by Han Pilmeyer
	  <han@zk3.dec.com>
	- maxfiles() didn't check FD_SETSIZE - patch by Justin Grudzien
	  <grudzien@31337.com>
	- New -o and -O server flags for automatically reconnecting
	  downed consoles - patch by Benn Oshrin <benno@columbia.edu>
	- Automatic reconnection of consoles on read failures, retried
	  every minute
	- Up to nine break sequences can be defined in the
	  configuration file and assigned to consoles individually,
	  accessed via new ^ecl[?0-9] escape sequences
	- console logs are marked with "up" and "down" timestamps
    The following based on code by John R. Jackson <jrj@cc.purdue.edu>
	- sequential timestamps merged into one range during playback
	- timestamps done on "nice" boundaries (hour, minute, etc.)
	- lots of code cleanup, optimizations, etc.

version 7.1.3 (Oct 16, 2001):
	- NetBSD 1.5 termios bug/compatibility - patch by Andreas Wrede
	  <aew.conserver@planix.com>
	- Missing quotes broke ^ecl1 code - reported by William Charles
	  <william.charles@db.com>
	- Alternate break code didn't exist for local ports

version 7.1.2 (Oct 15, 2001):
	- fixed line-based timestamp code - reported by Benn Oshrin
	  <benno@columbia.edu>
	- tcp_wrappers support (--with-libwrap)
	- CLOCAL bit set for local ports - patch by Egan Ford
	  <egan@us.ibm.com>
	- timestamp added to 'lost carrier' error - suggested by Todd
	  Stansell <todd@stansell.org>
	- Alternate break sequence for Solaris 8 is available as ^ecl2
	  escape sequence - patch by William Charles
	  <william.charles@db.com>
    The following suggested by Trevor Fiatal <trevor@seven.com>
	- Widened username field of 'console -w' output
	- Added server hostname to password entry prompt
	- AC_CHECK_LIB replaced with AC_SEARCH_LIBS in configure.in so
	  that irrelevant (and sometimes incompatible) libraries aren't
	  linked in

version 7.1.1 (Aug 4, 2001):
	- Now using getlogin() for real username info - suggested by
	  Dave Stuit <djs@gnac.com>
	- gethostbyname() failure for a console now doesn't cause a
	  shutdown - reported by Todd Stansell <todd@stansell.org>
	- Shutdown via client -q/-Q fixed (broken in 7.1.0 because of
	  master process fork() code)
	- Password file parsing fixed to allow for empty passwords -
	  allowing users to access conserver without a password prompt
	- Both the password and configuration files no longer have
	  line length limitations, they now support comments (`#' lines),
	  and lines with leading whitespace are continuations of
	  previous lines
	- Client hostname/ip sometimes not printed - reported by Todd
	  Stansell <todd@stansell.org>

version 7.1.0 (Jul 26, 2001):
	- Hostname in access list that began with a digit was treated as
	  an IP address - only strings using [0-9./] are considered CIDR
	  notation and they must be of the form a.b.c.d[/n]
	- Fixed SIGHUP always opening logfile(-L) - shouldn't without -d
	- Fixed 'make install' problem under MacOS X and cygwin
	- Client -l option totally broken in 7.0.3 - patch by Daniel E.
	  Singer <des@cs.duke.edu>
	- Client now accepts IP addresses from server and server now sends
	  the IP of the socket instead of its hostname to the client,
	  fixing part of the multi-interface problem
	- Client no longer passes hostname to server along with username
	- Client now turns off IEXTEN so stuff like ^V passes through
	- Server now pauses one second when reopening a TCP-based console
	  to give the terminal server a chance to clean up
	- Master server process now fork()s when accepting clients
	- timestamp-spec can be numeric only ('m' default)
	- Ambiguous console name error now shows ambiguous list
	- Console list in conserver.passwd can now have whitespace
	- Access lists in conserver.cf can now use ',' as a separator
	- Added special '*any*' username in conserver.passwd
	- Username match (real or '*any*') now stops conserver.passwd file
	  processing - allowing you to lock out users
	- Added -u flag to server to enable "unloved" output - this is the
	  opposite of the old -n flag, which now does nothing
	- Added -7 flag to client and server for stripping the high bit
	  of data on either side (--disable-8bit removed)
	- Added -b to server to specify the base port number for the
	  secondary communication channel - based on code from Enrik
	  Berkhan <Enrik.Berkhan@planb.de>
	- Changed -d and -D flags to -r and -R in client - now -D enables
	  debugging mode in the client (and -d is unused)
	- Changed -r to -G in client so -r could be used for the above
	- Client now uses getpassphrase() (if available) for > 8 char
	  passwords - pointed out by Gregory Bond <gnb@itga.com.au>
	- Improved signal handling
	- Improved process handling (POSIX waitpid() now necessary)
	- Significant rework of STREAMS-based pseudo-tty code
	- TCP connections ('!' config syntax) now have some Telnet protocol
	  knowledge, removing the "noise" seen when connecting to a terminal
	  server - reported by Todd Stansell <todd@stansell.org>
	- Various code and message "pretty-printing" done
	- Client and server both run in Windows (tested with Windows
	  2000) under the cygwin environment thanks to a debug-fest with
	  Emmett Hogan <hogan@gnac.com>
	- Using autoconf version 2.50
	- Man pages reworked and conserver.passwd page created by Dave
	  Stuit <djs@gnac.com> - the pain he suffered documenting
	  the program (and pointing out many of the bugs fixed above)
	  should help endless others

version 7.0.3 (Jul 5, 2001):
	- "Off by 1" bug in 7.0.2 line-oriented timestamp code fixed (extra
	  chars in logfile) reported by Matthew Cheek <cheek@mars-systems.com>
	- TODO file added to distribution
	- 'attached', 'detached', and 'bumped' actions now written to
	  console logs that have 'a' in timestamp-spec field
	- Default timestamp specification with TIMESTAMP= in .cf file
	- Config file much more forgiving about whitespace in fields
	- gethostbyaddr() failures are no longer fatal
	- Added -M to server to specify the address to listen on
	  based on code from Enrik Berkhan <Enrik.Berkhan@planb.de>
	- Added -p option to client and server to specify the port to
	  connect to and listen on (--with-port still sets the default)
	- Added logfile output when going into daemon mode
	    - Added --with-logfile to configure
	    - Added -L to override compile-time logfile location
	    - SIGHUP reopens this logfile as well as previous behavior
	- Run as root only restriction removed - warning now (if necessary)
	- More #defines for FreeBSD compatibility
	- Using inet_ntoa() now instead of peeking at bytes
	- Fixed up -V (and -Vv) output for client and server
	- Increased conserver.passwd read buffer (CheckPasswd())
	- Removed DO_VIRTUAL #if's - always build that code now
	- Removed ORIGINAL_CODE #if's (old non-CIDR access list parsing)
	- Changed undocumented -p option to -P in console client
	- man pages updated to reflect a little more reality

version 7.0.2 (Jun 15, 2001):
	- Bogus "ambiguous server abbreviation" with distributed server
	  setup fixed
	- Hostname not passed with username from console client
	- Fixed pseudo-terminal ('|' syntax in .cf file) bug with Solaris
	  and other STREAMS-based systems (actually works now in 7.X)
	- Line-oriented timestamps in logfiles (see 'l' mark
	  specification) based on patch from Benn Oshrin
	  <benno@columbia.edu>
	- Generalized debugging output, info messages and error messages
	- Moved library search up in configure.in so function calls are
	  detected properly
	- Permissions of install-sh were wrong
	- Trimmed the README file and now distribute conserver.html
	- Redhat RPM bundle (contrib/redhat-rpm) contributed by Paul
	  Heinlein <heinlein@measurecast.com>
	- Cleaned up gcc warnings (for Solaris 7, at least)
	- Makefiles now use .c.o: specification instead of %.o:

version 7.0.1 (May 3, 2001):
	- 8bit on by default now (use --disable-8bit for old behavior)
	- FreeBSD patches by Bill Fenner <fenner@research.att.com>
	  (hopefully *BSD systems will compile cleaner now)
	- Bad error reporting on getsockopt() found by Bill Fenner
	  <fenner@research.att.com>
	- PID file patch by Martin Andrews <mandrews@netgenics.com>

version 7.0.0 (Feb 18, 2001):
	- GNU configure-based packaging!!!
	  All work done by Mark D. Roth <roth@feep.net>.
	  Thank you!
	- Removed conserver/cons.h and moved options into --with
	  and --enable configure arguments
	- ioctl() bug found by Ross Parker <parker@redback.com>
	- Removed last of the "loopback preference" code in
	  console/console.c - should have been removed a long time ago

version 6.1.7 (Dec 14, 2000):
	- Documented no parity option in conserver.cf.man
	- Lowered default CONNECTTIMEOUT to 10 seconds
	- Changed more internal references to GNAC
	- Shell command support just plain broken (tracked down and
	  slain by Rob Joyce <robjoyce@ee.princeton.edu>)
	- Added a -P option for specifying the password file
	- CPARITY setting reflected in -V output
	- New version numbering scheme and packaging

version 6.16 (Sep 8, 2000):
	- Changed the main GNAC references to Certainty Solutions
	- Made the comment blocks in conserver/cons.h a little less
	  confusing
	- There are *NO* code changes to this version.  If you have
	  version 6.15, you're good to go.

version 6.15 (Mar 6, 2000):
	- Added debug flag (-D) and the beginning of debug output
	- A timeout can now be set for TCP connect() calls.  The
	  default is 30 seconds.  Hosts not responding are only
	  tried once at startup (per child), lessening the impact
	  of a down terminal server.  See CONNECTTIMEOUT in
	  conserver/cons.h.

version 6.14 (Jan 5, 2000):
	- Determining if the local conserver controls a port (with
	  @conserver spec) we now compare ip addresses instead of
	  hostnames
	- Invalid argument now shows -h output

version 6.13 (Dec 1, 1999):
	- High-bit always stripped from network - now follows
	  CPARITY setting in cons.h (found by Daniel Andersson
	  <daniel@sto.sema.se>)
	- New conserver -i flag for on-demand connects/disconnects
	  to console ports (contributed by Thomas E. Knowles
	  <tek@CS.Princeton.EDU>)
	- Solaris, Linux, and others now use tcsendbreak()

version 6.12 (Aug 24, 1999):
	- Blank line bug after '%%' in .cf file (found by Miss
	  Himali Patel <cpate03@dcs.bbk.ac.uk>)
     Special thanks to Michael Sullivan <mike@trdlnk.com> for
     the following improvements and fixes...
	- Read result bug in group.c caused lock up
	- Signal handling fixes and cleanup
	- Several minor spelling errors in strings and comments
	- Solaris package creation scripts (contrib/solaris-package)
	- Extended syntax of the access restrictions to understand
	  network numbers with optional netmasks

version 6.11 (May 14, 1999):
	- Added broadcast capability in client (-b option)
	- Protected certain escape sequences from end-user use
	- Added "console server shutting down" broadcast
	- Improved local tty break code (thanks Craig and Brian!)

version 6.10 (Jan 26, 1999):
	- Documentation fixes
	- Web page up and running

version 6.09:
	- Added more documentation (look for README and INSTALL files).
	- Fixed up man pages so they are more accurate.

version 6.08:
	- Added support for Linux 2.X and IRIX 6.X
	- Fixed "suspend" code in client - it shouldn't have worked
	  before, but slow connections could explain it.

version 6.07:
	- Porting infrastructure has been set up in ./port.  Solaris
	  2.5.1 and BSD/OS 3.1 successfully built.
	- Added CHANGES and README files.  Wow, starting to document!

version 6.06:
	- SIGUSR1 now tells the console server to try and reopen all
	  currently downed consoles.
	- Cleaned up configuration file (cons.h) and Makefiles.

version 6.05:
	- conserver.cf change: groups and their passwords have been
	  removed and timestamp specifications have been added.

before version 6.05:
	- Many, many variations.  Nothing was tracked well.  Bug fixes
	  and enhancements of various types were applied.

#
#  $Id: CHANGES,v 1.75 2003-01-27 17:47:59-08 bryan Exp $
#
